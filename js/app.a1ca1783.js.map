{"version":3,"file":"js/app.a1ca1783.js","mappings":"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","sources":["webpack://qjt-test/./src/api/request.js","webpack://qjt-test/./src/store/store.js","webpack://qjt-test/./src/pages/Management/index.vue","webpack://qjt-test/./src/pages/Management/index.vue?aaa0","webpack://qjt-test/./src/pages/KrpanoViewer/tool/krpanoTool.js","webpack://qjt-test/./src/pages/KrpanoViewer/index.vue","webpack://qjt-test/./src/pages/KrpanoViewer/index.vue?6f56","webpack://qjt-test/./src/router/router.js","webpack://qjt-test/./src/App.vue","webpack://qjt-test/./src/App.vue?7ccd","webpack://qjt-test/./src/main.js","webpack://qjt-test/webpack/bootstrap","webpack://qjt-test/webpack/runtime/chunk loaded","webpack://qjt-test/webpack/runtime/compat get default export","webpack://qjt-test/webpack/runtime/define property getters","webpack://qjt-test/webpack/runtime/global","webpack://qjt-test/webpack/runtime/hasOwnProperty shorthand","webpack://qjt-test/webpack/runtime/jsonp chunk loading","webpack://qjt-test/webpack/startup"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst request = axios.create({\r\n    baseURL: \"http://101.133.234.110:11202/\",\r\n});\r\n\r\n// 请求拦截\r\nlet token\r\nrequest.interceptors.request.use((config) => {\r\n    token = localStorage.getItem(\"token\")\r\n    if (token) {\r\n        config.header[\"Authorization\"] = token\r\n    }\r\n    config.headers[\"Content-Encoding\"] = \"gzip\"\r\n    return config\r\n})\r\n\r\n// 响应拦截\r\nrequest.interceptors.response.use((res) => {\r\n    return res.result || res.data || res\r\n}, (err) => {\r\n    console.error(error)\r\n})\r\n\r\n// 获取全景图列表\r\nexport const getAllPanorama = (params) => {\r\n    return request.get(\"/Panorama/GetAllPanorama\", {\r\n        params\r\n    })\r\n}\r\n\r\n// 添加组\r\nexport const addPanoramaGroup = (data) => {\r\n    return request.post(\"/Panorama/AddPanoramaGroup\", data)\r\n}\r\n\r\nexport const deletePanoramaGroup = (params) => {\r\n    return request.delete(\"Panorama/DeletePanoramaGroup\", {\r\n        params\r\n    })\r\n}\r\n\r\n// 上传文件\r\nexport const senceImageFileUpload = (data) => {\r\n    return request.post(\"/File/SenceImageFileUpload\", data)\r\n}\r\n\r\n// 转换全景图\r\nexport const getKrpanoSence = (data) => {\r\n    return request.post(\"/Symbol/GetKrpanoSence\", data)\r\n}\r\n\r\nexport const deletePanorama = (params) => {\r\n    return request.delete(\"Panorama/DeletePanorama\", {\r\n        params\r\n    })\r\n}","import {\r\n    defineStore\r\n} from 'pinia'\r\nimport {\r\n    getAllPanorama\r\n} from '../api/request'\r\n\r\nexport const useStore = defineStore(\"store\", { //添加了export\r\n    state: () => {\r\n        return {\r\n            panoTree: [],\r\n            loading: false\r\n        }\r\n    },\r\n    actions: {\r\n        getPanoTree() { // 获取全景图总树\r\n            this.loading = false\r\n            return getAllPanorama().then(res => {\r\n                res.forEach(item => {\r\n                    item.label = item.groupname;\r\n                    item.panoramas.forEach(item => {\r\n                        item.label = item.name\r\n                        item.url = item.foldername\r\n                    })\r\n                    item.children = item.panoramas\r\n                });\r\n                this.panoTree = res\r\n                this.loading = true\r\n                return this.panoTree\r\n            })\r\n        }\r\n    }\r\n})","<template>\r\n  <div class=\"tree-container\">\r\n    <el-button @click=\"dialogGroupVisible = true;\" style=\"margin-bottom: 10px\">添加组</el-button>\r\n    <el-tree\r\n      class=\"tree\"\r\n      :data=\"store.panoTree\"\r\n      node-key=\"id\"\r\n      default-expand-all\r\n      :expand-on-click-node=\"false\"\r\n    >\r\n      <template #default=\"{ node, data }\">\r\n        <span class=\"custom-tree-node\">\r\n          <span>{{ node.label }}</span>\r\n          <span>\r\n            <a @click=\"prePano(data, node)\">查看</a>\r\n            <a v-if=\"node.level === 1\" style=\"margin-left: 8px\" @click=\"delGroup(data, node)\">删除组</a>\r\n            <a\r\n              v-if=\"node.level === 1\"\r\n              style=\"margin-left: 8px\"\r\n              @click=\"openPanoForm(data, node)\"\r\n            >添加全景图</a>\r\n            <a v-if=\"node.level === 2\" style=\"margin-left: 8px\" @click=\"delPano(data, node)\">删除全景图</a>\r\n          </span>\r\n        </span>\r\n      </template>\r\n    </el-tree>\r\n\r\n    <el-dialog\r\n      :close-on-click-modal=\"false\"\r\n      v-model=\"dialogPanoVisible\"\r\n      title=\"添加全景图\"\r\n      destroy-on-close\r\n      :show-close=\"false\"\r\n    >\r\n      <el-form ref=\"panoFormDom\" :model=\"panoForm\" :rules=\"rules\" v-loading=\"dialogPanoLoading\">\r\n        <el-form-item prop=\"name\" label=\"全景图名称\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"panoForm.name\" autocomplete=\"off\" />\r\n        </el-form-item>\r\n        <!-- <el-button @click=\"uploadRef.click();\">添加图片</el-button> -->\r\n        <el-upload\r\n          ref=\"uploadRef\"\r\n          class=\"upload-demo\"\r\n          action=\"http://101.133.234.110:11202/File/SenceImageFileUpload\"\r\n          :auto-upload=\"true\"\r\n          multiple\r\n          accept=\".jpg\"\r\n          list-type=\"picture-card\"\r\n          name=\"files\"\r\n          :data=\"{Module: 'panoFile'}\"\r\n          @preview=\"preview\"\r\n          @remove=\"remove\"\r\n          @success=\"success\"\r\n          :before-upload=\"beforeUpload\"\r\n        >\r\n          <template #trigger>\r\n            <el-button type=\"primary\">选择文件</el-button>\r\n          </template>\r\n\r\n          <!-- <el-button class=\"ml-3\" type=\"success\" @click=\"submitUpload\">upload to server</el-button> -->\r\n\r\n          <template #tip>\r\n            <div class=\"el-upload__tip\">请上传全景图</div>\r\n          </template>\r\n        </el-upload>\r\n        <div style=\"width: 100%; text-align: end;\">\r\n          <el-button @click=\"dialogPanoVisible = false; clearForm(panoForm);\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"addPano\">生成全景</el-button>\r\n        </div>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n    <el-dialog\r\n      :close-on-click-modal=\"false\"\r\n      v-model=\"dialogGroupVisible\"\r\n      title=\"添加组\"\r\n      destroy-on-close\r\n      :show-close=\"false\"\r\n    >\r\n      <el-form ref=\"groupFormDom\" :model=\"groupForm\" :rules=\"rules\">\r\n        <el-form-item prop=\"name\" label=\"组名称\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"groupForm.name\" autocomplete=\"off\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogGroupVisible = false; clearForm(groupForm);\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"addGroup\">确认添加</el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <el-dialog v-model=\"dialogPreVisible\">\r\n      <img w-full :src=\"dialogPreUrl\" alt=\"Preview Image\" />\r\n    </el-dialog>\r\n    <!-- \r\n    <form style=\"display: none;\" ref=\"formDom\">\r\n      <input type=\"file\" ref=\"fileInput\" @change=\"chooseUploadFile\" multiple accept=\".jpg\" />\r\n    </form>-->\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from \"vue\";\r\nimport { useStore } from \"../../store/store\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport {\r\n  addPanoramaGroup,\r\n  deletePanoramaGroup,\r\n  senceImageFileUpload,\r\n  deletePanorama,\r\n  getKrpanoSence\r\n} from \"../../api/request\";\r\nconst router = useRouter();\r\n\r\nlet currentGroup = null;\r\nconst uploadRef = ref(); // 用于上传文件的隐藏dom\r\nconst formDom = ref(); // 用于上传文件的隐藏dom\r\n\r\nconst panoFormDom = ref(); // 全景图表单dom\r\nconst groupFormDom = ref(); // 组表单dom\r\n\r\nconst store = useStore();\r\n\r\nconst dialogPreUrl = ref(\"\");\r\nconst dialogPreVisible = ref(false);\r\nconst dialogPanoVisible = ref(false);\r\nconst dialogGroupVisible = ref(false);\r\nconst dialogPanoLoading = ref(false);\r\n\r\nconst groupForm = reactive({\r\n  name: \"\"\r\n});\r\nconst panoForm = reactive({\r\n  name: \"\",\r\n  imgs: [], // 上传的全部文件的路径列表，转换全景图的参数\r\n  imgsId: [] // 当前上传中文件的id，当数组为空时证明当前没有文件上传\r\n});\r\n\r\nconst rules = reactive({\r\n  name: [{ required: true, message: \"不能为空\", trigger: \"blur\" }]\r\n});\r\nfunction addGroup() {\r\n  groupFormDom.value.validate((valid, fields) => {\r\n    if (valid) {\r\n      addPanoramaGroup(groupForm)\r\n        .then(res => {\r\n          ElMessage({\r\n            message: res.msg,\r\n            type: \"success\"\r\n          });\r\n          store.getPanoTree();\r\n          dialogGroupVisible.value = false;\r\n          clearForm(groupForm);\r\n        })\r\n        .catch(err => {\r\n          ElMessage({\r\n            message: \"添加失败\",\r\n            type: \"warning\"\r\n          });\r\n          console.error(err);\r\n        });\r\n    } else {\r\n      console.log(\"error submit!\", fields);\r\n    }\r\n  });\r\n}\r\n\r\nfunction delGroup(data) {\r\n  deletePanoramaGroup({ id: data.id })\r\n    .then(res => {\r\n      ElMessage({\r\n        message: res.msg,\r\n        type: \"success\"\r\n      });\r\n      store.getPanoTree();\r\n    })\r\n    .catch(err => {\r\n      ElMessage({\r\n        message: \"删除失败\",\r\n        type: \"warning\"\r\n      });\r\n    });\r\n}\r\n\r\nfunction delPano(data) {\r\n  deletePanorama({ id: data.id })\r\n    .then(res => {\r\n      ElMessage({\r\n        message: res.msg,\r\n        type: \"success\"\r\n      });\r\n      store.getPanoTree();\r\n    })\r\n    .catch(err => {\r\n      ElMessage({\r\n        message: \"删除失败\",\r\n        type: \"warning\"\r\n      });\r\n    });\r\n}\r\n\r\nfunction preview(uploadFile) {\r\n  dialogPreUrl.value = uploadFile.url;\r\n  dialogPreVisible.value = true;\r\n}\r\n\r\nfunction remove(file) {\r\n  const index = panoForm.imgsId.indexOf(file.uid);\r\n  panoForm.imgsId.splice(index, 1);\r\n  if (file.response) {\r\n    const index = panoForm.imgs.indexOf(file.response[0]);\r\n    panoForm.imgs.splice(index, 1);\r\n  }\r\n}\r\n\r\nfunction success(file, files) {\r\n  const index = panoForm.imgsId.indexOf(files.uid);\r\n  panoForm.imgsId.splice(index, 1);\r\n  panoForm.imgs.push(file[0]);\r\n}\r\n\r\nfunction beforeUpload(file) {\r\n  panoForm.imgsId.push(file.uid);\r\n}\r\n\r\nfunction clearForm(formData) {\r\n  for (let key in formData) {\r\n    if (typeof formData[key] == \"string\" || typeof formData[key] == \"number\") {\r\n      formData[key] = \"\";\r\n    } else if (formData[key] instanceof Array) {\r\n      formData[key] = [];\r\n    } else {\r\n      formData[key] = null;\r\n    }\r\n  }\r\n}\r\n\r\nfunction addPano() {\r\n  panoFormDom.value.validate((valid, fields) => {\r\n    if (valid) {\r\n      if (panoForm.imgsId.length) {\r\n        return ElMessage({\r\n          message: \"请等待文件上传完成\",\r\n          type: \"warning\"\r\n        });\r\n      }\r\n      if (panoForm.imgs.length === 0) {\r\n        return ElMessage({\r\n          message: \"未上传全景图\",\r\n          type: \"warning\"\r\n        });\r\n      }\r\n      createPano({\r\n        groupName: currentGroup.label,\r\n        name: panoForm.name,\r\n        groupId: currentGroup.id,\r\n        paths: panoForm.imgs\r\n      });\r\n    } else {\r\n      console.log(\"error submit!\", fields);\r\n    }\r\n  });\r\n}\r\n\r\nfunction createPano(data) {\r\n  dialogPanoLoading.value = true;\r\n  ElMessage({\r\n    message: `正在生成全景图,全景图名称：${data.name},所属分组: ${data.groupName}`\r\n  });\r\n  getKrpanoSence(data)\r\n    .then(res => {\r\n      store.getPanoTree();\r\n      ElMessage({\r\n        message: `全景图生成完成,全景图名称：${data.name},所属分组: ${data.groupName}`,\r\n        type: \"success\"\r\n      });\r\n      dialogPanoVisible.value = false;\r\n      clearForm(panoForm);\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      ElMessage({\r\n        message: `全景图生成失败,全景图名称：${data.name},所属分组: ${data.groupName}`,\r\n        type: \"warning\"\r\n      });\r\n    })\r\n    .finally(() => {\r\n      dialogPanoLoading.value = false;\r\n    });\r\n}\r\n\r\nfunction openPanoForm(data, node) {\r\n  currentGroup = data;\r\n  dialogPanoVisible.value = true;\r\n}\r\n\r\nfunction prePano(data, node) {\r\n  if (node.level === 1) {\r\n    if (data.children.length === 0) {\r\n      return ElMessage({\r\n        message: \"请先添加全景图\",\r\n        type: \"warning\"\r\n      });\r\n    }\r\n    router.push({\r\n      name: \"KrpanoViewer\",\r\n      query: {\r\n        groupId: data.id\r\n      }\r\n    });\r\n  } else {\r\n    router.push({\r\n      name: \"KrpanoViewer\",\r\n      query: {\r\n        groupId: node.parent.data.id,\r\n        panoId: data.id\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction chooseUploadFile(e) {\r\n  const f = new FormData();\r\n  const files = e.target.files;\r\n  if (!files || !files.length) return;\r\n  for (let i = 0; i < files.length; i++) {\r\n    if (files[i].type == \"image/jpeg\") {\r\n      f.append(\"Files\", files[i], files[i].name);\r\n    }\r\n  }\r\n  f.append(\"Module\", \"panoFile\");\r\n  senceImageFileUpload(f);\r\n  formDom.value.reset();\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tree-container {\r\n  width: 90%;\r\n  margin: 20px auto;\r\n}\r\n.custom-tree-node {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  font-size: 14px;\r\n  padding-right: 8px;\r\n}\r\n</style>","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=5b1a9423&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\work\\\\qjt-test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5b1a9423\"]])\n\nexport default __exports__","// 加载Krpano\r\nexport function loadKrpano(id, baseUrl) {\r\n    return new Promise(resolve => {\r\n        const path = getPath(baseUrl)\r\n        embedpano({\r\n            xml: path.xml,\r\n            target: id,\r\n            html5: \"only\",\r\n            mobilescale: 1,\r\n            passQueryParameters: \"startscene,startlookat\",\r\n            onready: krpano => {\r\n                krpano.set(\"layer.visible\", false);\r\n                resolve(krpano)\r\n            }\r\n        });\r\n    })\r\n}\r\n\r\n// 切换其他的 xml\r\nexport function changeKrpano(krpano, baseUrl) {\r\n    const path = getPath(baseUrl)\r\n    // krpano.call(`loadpano(${path.xml}, null, KEEPVIEW, BLEND(1));`)\r\n    // krpano.call('loadpano(http://101.133.234.110:11202/Files/panoFile/1676043926086/vtour/tour.xml);')\r\n    krpano.call(`loadpano(${path.xml}, null, MERGE, BLEND(0));`)\r\n}\r\n\r\n// 获取 scene 列表\r\nexport function getSceneList(krpano) {\r\n    const scenes = [];\r\n    //获取全部场景数量\r\n    var scene_count = krpano.get(\"scene.count\");\r\n    //循环所有场景\r\n    for (var i = 0; i < scene_count; i++) {\r\n        const sceneItem = krpano.get(\"scene\").getItem(i);\r\n        scenes.push(sceneItem);\r\n    }\r\n    return scenes\r\n}\r\n\r\n// 切换 scene\r\nexport function changeScene(krpano, sceneName, timeout = 1) {\r\n    if (sceneName) {\r\n        krpano.call(`loadscene(${sceneName}, null, KEEPMOVING, BLEND(${timeout}));`)\r\n    } else {\r\n        krpano.call(`loadscene(get(startscene), null, KEEPMOVING, BLEND(${timeout}));`)\r\n    }\r\n    // krpano.call(`loadpano(${path.xml}, null, MERGE, BLEND(1));`)\r\n}\r\n\r\n// 获取相机数据\r\nexport function getCameraData(krpano) {\r\n    return {\r\n        hlookat: krpano.get(\"view.hlookat\"),\r\n        vlookat: krpano.get(\"view.vlookat\"),\r\n        fov: krpano.get(\"view.fov\")\r\n    };\r\n}\r\n\r\n// 通过baseUrl 获取资源路径(krpano vr模式生成)\r\nfunction getPath(baseUrl) {\r\n    const xml = baseUrl + \"/tour.xml\";\r\n    return {\r\n        xml\r\n    };\r\n}","<template>\r\n  <div class=\"container\">\r\n    <div class=\"goback\" @click=\"router.push('/')\">返回管理菜单</div>\r\n    <div class=\"wraper wraper-left\" :style=\"{width: isShowRight ? '50%' : '100%'}\">\r\n      <div id=\"pano-left\" class=\"pano\"></div>\r\n    </div>\r\n    <div\r\n      class=\"wraper wraper-right\"\r\n      :style=\"{width: isShowRight ? '50%' : '0%', borderLeft: isShowRight ? '1px solid #fff' : 'none'}\"\r\n    >\r\n      <div id=\"pano-right\" class=\"pano\"></div>\r\n    </div>\r\n\r\n    <div class=\"menu\" v-if=\"menuType === 'main'\">\r\n      <div class=\"menu-header\">\r\n        <div>{{groupData.label}}</div>\r\n        <div class=\"menu-item\" @click=\"onChangeSynchronize\">{{isShowRight ? '切换单个场景' : '看对比'}}</div>\r\n      </div>\r\n      <div class=\"menu-bottom\">\r\n        <div class=\"menu-item\" @click=\"menuType = 'leftPano'\">{{isShowRight ? '换全景(左)' : '换全景'}}</div>\r\n        <div class=\"menu-item\" @click=\"menuType = 'leftScene'\">{{isShowRight ? '换场景(左)' : '换场景'}}</div>\r\n        <div class=\"menu-item\" @click=\"menuType = 'rightPano'\" v-if=\"isShowRight\">换全景(右)</div>\r\n        <div class=\"menu-item\" @click=\"menuType = 'rightScene'\" v-if=\"isShowRight\">换场景(右)</div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"menu\" v-if=\"menuType === 'leftPano' || menuType === 'rightPano'\">\r\n      <div class=\"menu-header\">\r\n        <div>{{isShowRight ? (menuType === 'leftPano' ? '左视图' : '右视图') : ''}}</div>\r\n        <div class=\"menu-item\" @click=\"menuType = 'main'\">返回</div>\r\n      </div>\r\n      <div class=\"menu-bottom\">\r\n        <el-radio-group\r\n          v-if=\"menuType === 'leftPano'\"\r\n          v-model=\"leftPanoId\"\r\n          class=\"ml-4\"\r\n          @change=\"onChangePano($event, menuType)\"\r\n        >\r\n          <el-radio v-for=\"item in groupData.children\" :key=\"item.id\" :label=\"item.id\" size=\"large\">\r\n            <span style=\"color: #fff\">{{item.name}}</span>\r\n          </el-radio>\r\n        </el-radio-group>\r\n        <el-radio-group\r\n          v-if=\"menuType === 'rightPano'\"\r\n          v-model=\"rightPanoId\"\r\n          class=\"ml-4\"\r\n          @change=\"onChangePano($event, menuType)\"\r\n        >\r\n          <el-radio v-for=\"item in groupData.children\" :key=\"item.id\" :label=\"item.id\" size=\"large\">\r\n            <span style=\"color: #fff\">{{item.name}}</span>\r\n          </el-radio>\r\n        </el-radio-group>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"menu\" v-if=\"menuType === 'leftScene' || menuType === 'rightScene'\">\r\n      <div class=\"menu-header\">\r\n        <div>{{isShowRight ? (menuType === 'leftScene' ? '左视图' : '右视图') : ''}}</div>\r\n        <div class=\"menu-item\" @click=\"menuType = 'main'\">返回</div>\r\n      </div>\r\n      <div v-if=\"menuType === 'leftScene'\" class=\"menu-bottom1\">\r\n        <div\r\n          v-for=\"item in leftScenes\"\r\n          :key=\"item.id\"\r\n          class=\"menu-scene\"\r\n          @click=\"onChangeScene(item)\"\r\n        >\r\n          <img :src=\"item.thumburl\" alt />\r\n          <span>{{item.title}}</span>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"menuType === 'rightScene'\" class=\"menu-bottom1\">\r\n        <div\r\n          v-for=\"item in rightScenes\"\r\n          :key=\"item.id\"\r\n          class=\"menu-scene\"\r\n          @click=\"onChangeScene(item)\"\r\n        >\r\n          <img :src=\"item.thumburl\" alt />\r\n          <span>{{item.title}}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n  loadKrpano,\r\n  changeKrpano,\r\n  getSceneList,\r\n  getCameraData,\r\n  changeScene\r\n} from \"./tool/krpanoTool\";\r\nimport { reactive, ref, onMounted, onUnmounted, nextTick } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { useStore } from \"../../store/store\";\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst store = useStore();\r\nconst routeQuery = route.query;\r\n\r\nlet krpanoLeft; // 左 krpano 实例\r\nlet krpanoRight; // 右 krpano 实例\r\nconst leftPanoId = ref(\"\");\r\nconst rightPanoId = ref(\"\");\r\nconst leftScenes = ref([]);\r\nconst rightScenes = ref([]);\r\nconst currentLeftScene = ref();\r\nconst currentRightScene = ref();\r\n\r\nconst isShowRight = ref(false); // 右是否显示(是否需要对比)\r\nconst menuType = ref(\"main\");\r\n\r\nlet krpanoCamera = null; // 公共相机数据\r\nlet timer; // 定时器用于循环监听相机变化\r\n\r\nconst groupData = reactive(\r\n  routeQuery.groupId\r\n    ? store.panoTree.find(item => item.id == routeQuery.groupId)\r\n    : store.panoTree[0]\r\n);\r\n\r\nonMounted(() => {\r\n  if (routeQuery.panoId) {\r\n    leftPanoId.value = routeQuery.panoId;\r\n    for (let i = 0; i < groupData.children.length; i++) {\r\n      const leftPanoData = groupData.children[i];\r\n      if (leftPanoData.id == routeQuery.panoId) {\r\n        loadKrpano(\"pano-left\", leftPanoData.url).then(krpano => {\r\n          krpanoLeft = krpano;\r\n          krpanoCamera = getCameraData(krpanoLeft);\r\n          setTimeout(() => {\r\n            leftScenes.value = getSceneList(krpanoLeft);\r\n            currentLeftScene.value = leftScenes.value[0];\r\n          }, 300);\r\n        });\r\n        break;\r\n      }\r\n    }\r\n  } else {\r\n    leftPanoId.value = groupData.children[0].id;\r\n    loadKrpano(\"pano-left\", groupData.children[0].url).then(krpano => {\r\n      krpanoLeft = krpano;\r\n      krpanoCamera = getCameraData(krpanoLeft);\r\n      setTimeout(() => {\r\n        leftScenes.value = getSceneList(krpanoLeft);\r\n        currentLeftScene.value = leftScenes.value[0];\r\n      }, 300);\r\n    });\r\n    if (groupData.children[1]) {\r\n      rightPanoId.value = groupData.children[1].id;\r\n      loadKrpano(\"pano-right\", groupData.children[1].url).then(krpano => {\r\n        isShowRight.value = true;\r\n        krpanoRight = krpano;\r\n        startSynchronize();\r\n        setTimeout(() => {\r\n          synchronizeScene(\"right\");\r\n        }, 300);\r\n      });\r\n    }\r\n  }\r\n});\r\n\r\nonUnmounted(() => {\r\n  stopSynchronize();\r\n});\r\n\r\nfunction startSynchronize() {\r\n  stopSynchronize();\r\n  timer = setInterval(() => {\r\n    if (krpanoCamera && krpanoLeft && krpanoRight) {\r\n      upDataCamera(krpanoLeft, krpanoRight);\r\n      upDataCamera(krpanoRight, krpanoLeft);\r\n    }\r\n  }, 20);\r\n}\r\n\r\nfunction stopSynchronize() {\r\n  if (timer) {\r\n    clearInterval(timer);\r\n  }\r\n}\r\n\r\n// type === left: 改变左屏的场景，使与右屏保持一致\r\n// type === right; 改变右屏的场景，使与左屏保持一致\r\nfunction synchronizeScene(type) {\r\n  if (type === \"left\") {\r\n    leftScenes.value = getSceneList(krpanoLeft);\r\n    let loadScene = leftScenes.value.find(\r\n      item => item.name === currentRightScene.value.name\r\n    );\r\n    if (loadScene) {\r\n      changeScene(krpanoLeft, loadScene.name, 0);\r\n      currentLeftScene.value = loadScene;\r\n    } else {\r\n      changeScene(krpanoLeft, leftScenes.value[0].name, 0);\r\n      currentLeftScene.value = leftScenes.value[0];\r\n    }\r\n  }\r\n  if (type === \"right\") {\r\n    rightScenes.value = getSceneList(krpanoRight);\r\n    let loadScene = rightScenes.value.find(\r\n      item => item.name === currentLeftScene.value.name\r\n    );\r\n    if (loadScene) {\r\n      changeScene(krpanoRight, loadScene.name, 0);\r\n      currentRightScene.value = loadScene;\r\n    } else {\r\n      changeScene(krpanoRight, rightScenes.value[0].name, 0);\r\n      currentRightScene.value = rightScenes.value[0];\r\n    }\r\n  }\r\n}\r\n\r\nfunction onChangeSynchronize() {\r\n  if (isShowRight.value) {\r\n    stopSynchronize();\r\n  } else {\r\n    if (!krpanoRight) {\r\n      rightPanoId.value = groupData.children[0].id;\r\n      loadKrpano(\"pano-right\", groupData.children[0].url).then(krpano => {\r\n        krpanoRight = krpano;\r\n        setTimeout(() => {\r\n          synchronizeScene(\"right\");\r\n        }, 300);\r\n      });\r\n    }\r\n    startSynchronize();\r\n  }\r\n  isShowRight.value = !isShowRight.value;\r\n}\r\n\r\nfunction onChangeScene(item) {\r\n  let loadLeftScene = leftScenes.value.find(scene => item.name === scene.name);\r\n  if (loadLeftScene) {\r\n    changeScene(krpanoLeft, item.name);\r\n    currentLeftScene.value = item;\r\n  }\r\n\r\n  let loadRightScene = rightScenes.value.find(\r\n    scene => item.name === scene.name\r\n  );\r\n  if (loadRightScene) {\r\n    changeScene(krpanoRight, item.name);\r\n    currentRightScene.value = item;\r\n  }\r\n}\r\n\r\nfunction onChangePano(id, type) {\r\n  if (type === \"leftPano\") {\r\n    for (let i = 0; i < groupData.children.length; i++) {\r\n      const panoData = groupData.children[i];\r\n      if (panoData.id == id) {\r\n        changeKrpano(krpanoLeft, panoData.url);\r\n        if (isShowRight.value) {\r\n          setTimeout(() => {\r\n            synchronizeScene(\"left\");\r\n          }, 300);\r\n        } else {\r\n          setTimeout(() => {\r\n            leftScenes.value = getSceneList(krpanoLeft);\r\n            let loadScene = leftScenes.value.find(\r\n              item => item.name === currentLeftScene.value.name\r\n            );\r\n            if (loadScene) {\r\n              changeScene(krpanoLeft, loadScene.name, 0);\r\n              currentLeftScene.value = loadScene;\r\n            } else {\r\n              changeScene(krpanoLeft, leftScenes.value[0].name, 0);\r\n              currentLeftScene.value = leftScenes.value[0];\r\n            }\r\n          }, 300);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  } else if (type === \"rightPano\") {\r\n    for (let i = 0; i < groupData.children.length; i++) {\r\n      const panoData = groupData.children[i];\r\n      if (panoData.id == id) {\r\n        changeKrpano(krpanoRight, panoData.url);\r\n        setTimeout(() => {\r\n          synchronizeScene(\"right\");\r\n        }, 300);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction upDataCamera(krpano, targetKrpano) {\r\n  const newKrpanoCamera = getCameraData(krpano);\r\n  if (newKrpanoCamera.hlookat !== krpanoCamera.hlookat) {\r\n    krpanoCamera.hlookat = newKrpanoCamera.hlookat;\r\n    targetKrpano.set(\"view.hlookat\", newKrpanoCamera.hlookat);\r\n  }\r\n  if (newKrpanoCamera.vlookat !== krpanoCamera.vlookat) {\r\n    krpanoCamera.vlookat = newKrpanoCamera.vlookat;\r\n    targetKrpano.set(\"view.vlookat\", newKrpanoCamera.vlookat);\r\n  }\r\n  if (newKrpanoCamera.fov !== krpanoCamera.fov) {\r\n    krpanoCamera.fov = newKrpanoCamera.fov;\r\n    targetKrpano.set(\"view.fov\", newKrpanoCamera.fov);\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n  position: relative;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n.goback {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 10px;\r\n  color: #fff;\r\n  z-index: 1000;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n}\r\n.wraper {\r\n  position: absolute;\r\n  height: 100%;\r\n}\r\n.wraper-left {\r\n  top: 0;\r\n  left: 0;\r\n}\r\n.wraper-right {\r\n  top: 0;\r\n  right: 0;\r\n}\r\n.pano {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.menu {\r\n  min-width: 250px;\r\n  padding: 10px;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  z-index: 1000;\r\n  color: #fff;\r\n  border-radius: 30px 30px 0 0;\r\n  font-size: 12px;\r\n  .menu-header {\r\n    height: 20px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  .menu-bottom {\r\n    min-height: 40px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  .menu-bottom1 {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    width: 400px;\r\n    .menu-scene {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n      margin: 10px;\r\n      color: #fff;\r\n      img {\r\n        width: 100px;\r\n        height: 100px;\r\n      }\r\n    }\r\n  }\r\n  .menu-item {\r\n    cursor: pointer;\r\n  }\r\n  .menu-item:hover {\r\n    color: #00ffff;\r\n  }\r\n}\r\n</style>","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=38bffafc&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\work\\\\qjt-test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-38bffafc\"]])\n\nexport default __exports__","import {\r\n    createRouter,\r\n    createWebHashHistory\r\n} from 'vue-router'\r\n\r\nimport Management from '../pages/Management'\r\nimport KrpanoViewer from '../pages/KrpanoViewer'\r\n\r\nconst routes = [{\r\n        name: \"Management\",\r\n        path: \"/\",\r\n        component: Management\r\n    },\r\n    {   \r\n        name: \"KrpanoViewer\",\r\n        path: \"/viewer\",\r\n        component: KrpanoViewer\r\n    }\r\n]\r\n\r\nconst router = createRouter({\r\n    history: createWebHashHistory(),\r\n    routes\r\n})\r\n\r\nexport default router","<template>\r\n  <div\r\n    class=\"app\"\r\n    element-loading-text=\"正在加载全景数据...\"\r\n    element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n    v-loading=\"!store.loading\"\r\n  >\r\n    <router-view v-if=\"loading\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { useStore } from \"./store/store\";\r\nconst loading = ref(false); // 首次加载完成\r\nconst store = useStore();\r\nstore.getPanoTree().then(() => {\r\n  loading.value = true;\r\n});\r\n</script>\r\n\r\n<style>\r\nbody,\r\nhtml,\r\n#app {\r\n  height: 100%;\r\n  width: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-size: 16px;\r\n}\r\n.app {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=bc7b74b4&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport {createPinia} from 'pinia'\r\nimport ElementPlus from 'element-plus'\r\nimport 'element-plus/dist/index.css'\r\nimport router from './router/router'\r\n\r\nimport App from './App.vue'\r\n\r\ncreateApp(App).use(createPinia()).use(router).use(ElementPlus).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkqjt_test\"] = self[\"webpackChunkqjt_test\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1744); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["request","axios","baseURL","token","interceptors","use","config","localStorage","getItem","header","headers","response","res","result","data","err","console","error","getAllPanorama","params","get","addPanoramaGroup","post","deletePanoramaGroup","delete","getKrpanoSence","deletePanorama","useStore","defineStore","state","panoTree","loading","actions","getPanoTree","this","then","forEach","item","label","groupname","panoramas","name","url","foldername","children","router","useRouter","currentGroup","uploadRef","ref","panoFormDom","groupFormDom","store","dialogPreUrl","dialogPreVisible","dialogPanoVisible","dialogGroupVisible","dialogPanoLoading","groupForm","reactive","panoForm","imgs","imgsId","rules","required","message","trigger","addGroup","value","validate","valid","fields","ElMessage","msg","type","clearForm","catch","log","delGroup","id","delPano","preview","uploadFile","remove","file","index","indexOf","uid","splice","success","files","push","beforeUpload","formData","key","Array","addPano","length","createPano","groupName","groupId","paths","finally","openPanoForm","node","prePano","level","query","parent","panoId","__exports__","loadKrpano","baseUrl","Promise","resolve","path","getPath","embedpano","xml","target","html5","mobilescale","passQueryParameters","onready","krpano","set","changeKrpano","call","getSceneList","scenes","scene_count","i","sceneItem","changeScene","sceneName","timeout","getCameraData","hlookat","vlookat","fov","route","useRoute","routeQuery","krpanoLeft","krpanoRight","leftPanoId","rightPanoId","leftScenes","rightScenes","currentLeftScene","currentRightScene","isShowRight","menuType","timer","krpanoCamera","groupData","find","startSynchronize","stopSynchronize","setInterval","upDataCamera","clearInterval","synchronizeScene","loadScene","onChangeSynchronize","setTimeout","onChangeScene","loadLeftScene","scene","loadRightScene","onChangePano","panoData","targetKrpano","newKrpanoCamera","onMounted","leftPanoData","onUnmounted","routes","component","Management","KrpanoViewer","createRouter","history","createWebHashHistory","createApp","App","createPinia","ElementPlus","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}